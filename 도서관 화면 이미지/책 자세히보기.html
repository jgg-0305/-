<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>도서 상세정보 - 동의대 도서관</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Courier+Prime&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- 공통 변수 --- */
        :root {
            --primary-blue: #2552e3;
            --bg-gray: #f8f9fa;
            --text-dark: #333;
            --text-light: #666;
            --accent-yellow: #f5a623;
            --border-color: #ddd;
            --table-header: #f1f5f9;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans KR', sans-serif; background-color: var(--bg-gray); color: var(--text-dark); }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* --- 헤더 --- */
        header { background: #fff; padding: 15px 0; border-bottom: 1px solid #ddd; }
        .header-inner { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 24px; font-weight: 700; color: var(--primary-blue); display: flex; align-items: center; gap: 10px; }
        .nav ul { display: flex; gap: 30px; font-weight: 500; }
        .login-btn { background: var(--primary-blue); color: #fff; padding: 8px 20px; border-radius: 5px; font-weight: 500; }

        /* --- 상세 페이지 레이아웃 --- */
        .detail-container { padding: 40px 0; display: flex; gap: 40px; }
        
        .book-cover-section { width: 300px; flex-shrink: 0; }
        .book-cover-img { width: 100%; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.15); border: 1px solid #eee; }

        .book-info-section { flex: 1; }

        .book-header { border-bottom: 1px solid var(--border-color); padding-bottom: 20px; margin-bottom: 30px; }
        .book-category { color: var(--primary-blue); font-weight: 700; font-size: 14px; margin-bottom: 10px; display: block; }
        .book-title { font-size: 32px; font-weight: 700; margin-bottom: 15px; line-height: 1.3; }
        .book-meta { color: var(--text-light); font-size: 15px; line-height: 1.8; }
        .book-meta span { margin-right: 15px; }
        .book-meta strong { color: var(--text-dark); font-weight: 500; }

        /* 버튼 스타일 */
        .action-buttons { margin-top: 20px; display: flex; gap: 10px; }
        .btn { padding: 12px 25px; border-radius: 5px; font-weight: 700; cursor: pointer; border: none; font-size: 15px; transition: 0.3s; display: inline-flex; align-items: center; gap: 8px; }
        
        /* [수정됨] 대출하기 버튼용 Primary 스타일 */
        .btn-primary { background: var(--primary-blue); color: #fff; }
        .btn-primary:hover { background: #1a3dbf; }
        
        /* 인쇄 버튼 */
        .btn-print { background: #4b5563; color: #fff; }
        .btn-print:hover { background: #374151; }

        /* --- 소장 정보 테이블 스타일 --- */
        .holdings-container { background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 30px; }
        .section-title { font-size: 20px; font-weight: 700; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        
        .holdings-table { width: 100%; border-collapse: collapse; font-size: 14px; text-align: center; }
        .holdings-table th { background: var(--table-header); padding: 12px; border-bottom: 2px solid #ddd; color: #333; font-weight: 600; }
        .holdings-table td { padding: 12px; border-bottom: 1px solid #eee; color: #555; }
        
        .status-badge { display: inline-block; padding: 4px 10px; border-radius: 12px; font-size: 12px; font-weight: 700; }
        .st-avail { background: #e6fcf5; color: #0ca678; border: 1px solid #c3fae8; } 
        .st-loaned { background: #fff5f5; color: #fa5252; border: 1px solid #ffc9c9; }
        .st-lost { background: #f1f3f5; color: #868e96; border: 1px solid #dee2e6; } 

        /* --- 리뷰 섹션 스타일 --- */
        .review-container { background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .review-list { display: flex; flex-direction: column; gap: 20px; }
        .review-card { border-bottom: 1px solid #eee; padding-bottom: 20px; }
        .review-card:last-child { border-bottom: none; padding-bottom: 0; }
        
        .rev-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .rev-user { font-weight: 700; font-size: 15px; display: flex; align-items: center; gap: 8px; }
        .rev-date { font-size: 13px; color: #999; }
        .star-rating { color: #ddd; font-size: 14px; }
        .star-rating .filled { color: var(--accent-yellow); }
        .rev-title { font-weight: 700; font-size: 16px; margin-bottom: 8px; color: #222; }
        .rev-content { font-size: 14px; color: #555; line-height: 1.6; background: #f9f9f9; padding: 15px; border-radius: 5px; }

        .write-review-box { margin-bottom: 30px; background: #f0f4ff; padding: 20px; border-radius: 8px; }
        .form-row { display: flex; gap: 10px; margin-bottom: 10px; }
        .form-input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px; outline: none; }
        .form-textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; height: 80px; resize: none; outline: none; margin-bottom: 10px; }
        .form-select { padding: 10px; border: 1px solid #ddd; border-radius: 5px; }

        /* --- 푸터 및 인쇄 스타일 --- */
        footer { background: #0f172a; color: #a0aec0; padding-top: 60px; padding-bottom: 30px; font-size: 14px; margin-top: 50px; }
        .footer-grid { display: grid; grid-template-columns: 1.5fr 1fr 1fr 1.2fr; gap: 40px; margin-bottom: 50px; }
        footer h4 { color: #fff; font-size: 16px; font-weight: 700; margin-bottom: 20px; }
        footer ul li { margin-bottom: 12px; }
        footer ul li a { color: #a0aec0; transition: 0.3s; }
        .copyright { border-top: 1px solid rgba(255,255,255,0.1); padding-top: 25px; text-align: center; font-size: 13px; color: #718096; }

        #print-receipt-area { display: none; }
        @media print {
            body * { visibility: hidden; }
            #print-receipt-area, #print-receipt-area * { visibility: visible; }
            #print-receipt-area {
                display: block !important; position: absolute; left: 0; top: 0; width: 80mm;
                padding: 10px; font-family: 'Courier Prime', monospace; color: #000; text-align: center;
            }
            .receipt-header { border-bottom: 2px dashed #000; padding-bottom: 10px; margin-bottom: 10px; }
            .receipt-logo { font-size: 18px; font-weight: 900; display: block; margin-bottom: 5px; }
            .receipt-date { font-size: 10px; }
            .receipt-body { text-align: left; margin-bottom: 15px; }
            .receipt-label { font-size: 10px; font-weight: bold; margin-top: 10px; display: block; }
            .receipt-title { font-size: 12px; margin-bottom: 5px; line-height: 1.2; }
            .receipt-call-number { font-size: 16px; font-weight: 900; border: 2px solid #000; padding: 8px; margin: 10px 0; text-align: center; display: block; }
            .receipt-footer { border-top: 2px dashed #000; padding-top: 10px; font-size: 10px; }
            .barcode-sim { font-family: 'Libre Barcode 39', sans-serif; font-size: 30px; letter-spacing: 5px; margin-top: 5px; }
        }
    </style>
</head>
<body>

    <div id="print-receipt-area">
        <div class="receipt-header">
            <span class="receipt-logo">동의대 도서관</span>
            <span class="receipt-date" id="printDate"></span>
        </div>
        <div class="receipt-body">
            <span class="receipt-label">[도서명]</span>
            <div class="receipt-title">데이터 사이언스 입문</div>
            <span class="receipt-label">[저자]</span>
            <div class="receipt-title">김진, 최정아</div>
            <span class="receipt-label" style="text-align:center; margin-top:15px; font-size:12px;">▼ 소장 위치 안내 ▼</span>
            <div class="receipt-call-number">
                제1열람실<br>305.1-IT과학
            </div>
        </div>
        <div class="receipt-footer">
            * 대출 시 이 종이를 지참해주세요.<br>* 문의: 051-890-1234
            <div class="barcode-sim">|| | ||| || |||</div>
        </div>
    </div>

    <header>
        <div class="container header-inner">
            <a href="index.html" class="logo">
                <i class="fa-solid fa-book-open"></i> 동의대 도서관
            </a>
            <nav class="nav">
                <ul>
                    <li><a href="#">홈</a></li>
                    <li><a href="#">My Library</a></li>
                    <li><a href="#">도서검색</a></li>
                    <li><a href="#">서비스</a></li>
                    <li><a href="#">공지사항</a></li>
                </ul>
            </nav>
            <a href="#" class="login-btn"><i class="fa-solid fa-user"></i> 로그인</a>
        </div>
    </header>

    <div class="container detail-container">
        
        <div class="book-cover-section">
            <img src="https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9791196752521.jpg" alt="데이터 사이언스 입문" class="book-cover-img">
        </div>

        <div class="book-info-section">
            
            <div class="book-header">
                <span class="book-category">컴퓨터/IT > 데이터과학</span>
                <h1 class="book-title">데이터 사이언스 입문</h1>
                <div class="book-meta">
                    <p><strong>저자</strong> <span>김진, 최정아</span></p>
                    <p><strong>출판사</strong> <span>이지스퍼블리싱</span></p>
                    <p><strong>발행년도</strong> <span>2024</span></p>
                    <p><strong>ISBN</strong> <span>9791196752521</span></p>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="loanBook()">
                        <i class="fa-solid fa-book-bookmark"></i> 대출하기
                    </button>
                    
                    <button class="btn btn-print" onclick="printReceipt()">
                        <i class="fa-solid fa-print"></i> 책위치 출력하기
                    </button>
                </div>
            </div>

            <div class="holdings-container">
                <div class="section-title">소장 정보</div>
                <table class="holdings-table">
                    <thead>
                        <tr>
                            <th>등록번호</th>
                            <th>소장위치</th>
                            <th>청구기호</th>
                            <th>도서상태</th>
                            <th>반납예정일</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>9791196752521-1</td>
                            <td>제1열람실</td>
                            <td>305.1-IT과학-1</td>
                            <td><span class="status-badge st-avail">대출가능</span></td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>9791196752521-2</td>
                            <td>제1열람실</td>
                            <td>305.1-IT과학-2</td>
                            <td><span class="status-badge st-loaned">대출중</span></td>
                            <td>2025-12-20</td>
                        </tr>
                        <tr>
                            <td>9791196752521-3</td>
                            <td>제2열람실</td>
                            <td>305.1-IT과학-3</td>
                            <td><span class="status-badge st-loaned">대출중</span></td>
                            <td>2025-12-22</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="review-container">
                <div class="section-title">
                    도서 리뷰 <span style="font-size:14px; color:#666; font-weight:400;">(3건)</span>
                </div>

                <div class="write-review-box">
                    <h4 style="margin-bottom:10px;">리뷰 작성하기</h4>
                    <div class="form-row">
                        <select class="form-select" style="width: 120px;">
                            <option value="5">★★★★★ (5)</option>
                            <option value="4">★★★★ (4)</option>
                            <option value="3">★★★ (3)</option>
                            <option value="2">★★ (2)</option>
                            <option value="1">★ (1)</option>
                        </select>
                        <input type="text" class="form-input" placeholder="제목을 입력하세요 (rev_title)">
                    </div>
                    <textarea class="form-textarea" placeholder="이 책에 대한 솔직한 후기를 남겨주세요. (rev_content)"></textarea>
                    <button class="btn btn-primary" style="width: 100%; padding: 10px;">리뷰 등록</button>
                </div>

                <div class="review-list">
                    
                    <div class="review-card">
                        <div class="rev-header">
                            <div class="rev-user">
                                <i class="fa-solid fa-user-circle" style="color:#ccc;"></i> 
                                2020*** (학생) <span class="star-rating"><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i></span>
                            </div>
                            <span class="rev-date">2024-05-20</span> 
                        </div>
                        <div class="rev-title">비전공자도 이해하기 쉬운 최고의 입문서!</div> 
                        <div class="rev-content">
                            데이터 분석이 처음이라 막막했는데, 이 책은 개념 설명이 정말 친절하네요. 실습 예제도 따라하기 좋게 구성되어 있어서 끝까지 완독할 수 있었습니다. 강력 추천합니다!
                        </div> 
                    </div>

                    <div class="review-card">
                        <div class="rev-header">
                            <div class="rev-user">
                                <i class="fa-solid fa-user-circle" style="color:#ccc;"></i> 
                                2023*** (학생) <span class="star-rating"><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star"></i></span>
                            </div>
                            <span class="rev-date">2024-04-15</span>
                        </div>
                        <div class="rev-title">내용은 좋은데 심화 과정이 아쉬워요</div>
                        <div class="rev-content">
                            기초 잡기에는 좋지만, 현업에서 쓰는 툴에 대한 깊이 있는 내용은 조금 부족한 것 같습니다. 입문용으로는 훌륭합니다.
                        </div>
                    </div>

                    <div class="review-card">
                        <div class="rev-header">
                            <div class="rev-user">
                                <i class="fa-solid fa-user-circle" style="color:#ccc;"></i> 
                                2021*** (학생) <span class="star-rating"><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star filled"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></span>
                            </div>
                            <span class="rev-date">2024-03-02</span>
                        </div>
                        <div class="rev-title">배송도 빠르고 책 상태도 좋습니다.</div>
                        <div class="rev-content">
                            학교 도서관에 희망도서 신청해서 들어오자마자 빌려봤어요. 깨끗해서 좋네요. 내용은 그럭저럭 평이합니다.
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="copyright">
                <p>© 2024 Dong-eui University Library. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        function printReceipt() {
            const now = new Date();
            const timeString = now.getFullYear() + "-" + 
                               String(now.getMonth()+1).padStart(2, '0') + "-" + 
                               String(now.getDate()).padStart(2, '0') + " " + 
                               String(now.getHours()).padStart(2, '0') + ":" + 
                               String(now.getMinutes()).padStart(2, '0');
            document.getElementById('printDate').innerText = timeString;
            window.print();
        }

        // 대출하기 버튼 동작
        function loanBook() {
            // 실제 구현에서는 서버에 대출 요청을 보냅니다.
            alert("도서 대출 처리가 완료되었습니다.\n반납 예정일: 2025-12-21");
        }
    </script>
</body>
</html>